/**
 * vue-lang-router v1.3.0
 * (c) 2021 Radek Altof
 * Released under the MIT License.
 */

var LangRouter=function(t,e,r){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,r=r&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r;var a=Object.assign||function(){for(var t=arguments,e={},r=0;r<arguments.length;r++){var a=t[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function n(t,e,r,a,n,o,i,s,l,u){"boolean"!=typeof i&&(l=s,s=i,i=!1);var c,h="function"==typeof r?r.options:r;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,n&&(h.functional=!0)),a&&(h._scopeId=a),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,l(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=i?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var d=h.beforeCreate;h.beforeCreate=d?[].concat(d,c):[c]}return r}var o,i,s,l=n({render:function(){var t=this.$createElement;return(this._self._c||t)("router-link",this._b({attrs:{to:this.localizedTo()}},"router-link",this.$attrs,!1),[this._t("default")],2)},staticRenderFns:[]},void 0,{name:"LocalizedLink",props:["to"],methods:{localizedTo:function(){if("string"==typeof this.to)return this.$localizePath(this.to);if("object"==typeof this.to&&"string"==typeof this.to.path){var t=JSON.parse(JSON.stringify(this.to));return t.path=this.$localizePath(t.path),t}return this.to}}},void 0,!1,void 0,!1,void 0,void 0,void 0),u=n({render:function(){var t=this.$createElement;return(this._self._c||t)(this.getTag(),{tag:"component",staticClass:"router-language-switcher"},[this._t("default",null,{links:this.links})],2)},staticRenderFns:[]},void 0,{name:"LanguageSwitcher",data:function(){return{currentUrl:this.url||this.$router.currentRoute.fullPath,links:[]}},props:["tag","active-class","url"],methods:{getTag:function(){return this.tag?this.tag:"div"},generateLinks:function(){var t=[],e=this.activeClass||"router-active-language",r=this._langRouter.translations;for(var a in r)r.hasOwnProperty(a)&&t.push({activeClass:a==this.$i18n.locale?e:"",langIndex:a,langName:r[a].name||a,url:this.$localizePath(this.currentUrl,a)});this.links=t}},watch:{$route:function(t){this.currentUrl=this.url||t.fullPath,this.generateLinks()}},mounted:function(){this.generateLinks()}},void 0,!1,void 0,!1,void 0,void 0,void 0),c=[];function h(t,e){console.error("LangRouter: "+t),void 0!==e&&console.error(e)}var f=function(t){for(var e in i)i.hasOwnProperty(e)&&!s[e]&&(s[e]={});for(var a in s)s.hasOwnProperty(a)&&p(t.routes,a);var n=new r(t);return n.beforeEach(g),n};function d(e){return t.i18n.locale=e,document.querySelector("html").setAttribute("lang",e),localStorage.setItem("VueAppLanguage",e),e}function p(t,e,r){t.forEach((function(t){var a=v(t.path,e);r||(a="/"+e+("/"!=a.charAt(0)?"/":"")+a),t.alias?Array.isArray(t.alias)||(t.alias=[t.alias]):t.alias=[],t.path!=a&&-1==t.alias.indexOf(a)&&t.alias.push(a),t.children&&p(t.children,e,!0)}))}function g(e,r,a){var n=e.path.split("/")[1];if(!i[n]){var s=localStorage.getItem("VueAppLanguage");if(s&&i[s])n=s;else{var l=function(){function t(t){return t.split("-")[0].toLowerCase()}if(navigator.languages&&navigator.languages.length)return t(navigator.languages[0]||"");return t(navigator.language||navigator.browserLanguage||navigator.userLanguage||"")}();n=l&&i[l]?l:o}if(n!=o){var u=v(e.path,n);return u="/"+n+("/"!=u.charAt(0)?"/":"")+u,a({path:u,query:e.query,hash:e.hash})}}(function(e){return c.includes(e)?Promise.resolve(d(e)):(i[e]&&"function"==typeof i[e].load||h('Unable to load translations for "'+e+'", "load" function is missing!'),i[e].load().then((function(r){return t.i18n.setLocaleMessage(e,r.default||r),c.push(e),d(e)})).catch((function(t){h('Failed to load "'+e+'" translation.',t)})))})(n).then((function(){return a()}))}function v(t,e,r,a){var n=t.split("/");if(r&&s[r]){if(e==r)return t;var o=s[r],i={};Object.keys(o).forEach((function(t){i[o[t]]=t}));for(var l=a.split("/"),u=0;u<n.length;u++){var c=n[u];":"!=l[u].charAt(0)&&(n[u]=i[c]||c)}}for(var h=0;h<n.length;h++){var f=n[h];":"!=f.charAt(0)&&(n[h]=s[e][f]||f)}return n.join("/")}function y(e,r){r&&s[r]||(r=t.i18n.locale);var a=e,n="";e.includes("?")?(a=e.split("?")[0],n="?"+e.split("?")[1]):e.includes("#")&&(a=e.split("#")[0],n="#"+e.split("#")[1]);var i=a.split("/"),l=!!s[i[1]]&&i[1],u=this.$router.currentRoute.path.split("/")[1];if(r==o&&!s[u]&&!l)return e;var c=!1;if(l){var f=this.$router.resolve(a);0!=f.route.matched.length?c="/"==(c=f.route.matched[f.route.matched.length-1].path).charAt(0)?c:"/"+c:h('Router could not resolve path "'+a+'". URL localization may not work as expected.'),i.splice(1,1),a=i.join("/")}var d=v(a,r,l,c||a);return(d="/"+r+("/"!=d.charAt(0)?"/":"")+d)+n}return f.install=function(n,d){if(f.installed)h("Already installed.");else{var p;f.installed=!0,d||h("Options missing."),o=d.defaultLanguage,i=d.translations,s=d.localizedURLs||{},((p=Array.isArray(i))||"object"!=typeof i)&&h("options.translations should be an object, received "+(p?"array":typeof i)+" instead."),((p=Array.isArray(s))||"object"!=typeof s)&&h("options.localizedURLs should be an object, received "+(p?"array":typeof s)+" instead."),"string"!=typeof o&&h("options.defaultLanguage should be a string, received "+typeof o+" instead."),n.use(e),n.use(r);var g={};for(var v in i)if(i.hasOwnProperty(v)){var m=i[v].messages;"object"!=typeof m||Array.isArray(m)||(g[v]=i[v].messages,c.push(v))}t.i18n=new e(a({},{locale:o,fallbackLocale:o,messages:g},d.i18nOptions)),n.prototype._langRouter={translations:i},n.prototype.$localizePath=y,n.component("localized-link",l),n.component("language-switcher",u)}},"undefined"!=typeof window&&window.Vue&&window.Vue.use(f),t.default=f,t}({},VueI18n,VueRouter);
